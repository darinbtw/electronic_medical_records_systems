# üè• –°–∏—Å—Ç–µ–º–∞ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã—Ö –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö –∫–∞—Ä—Ç

[![Python](https://img.shields.io/badge/Python-3.11+-blue.svg)](https://python.org)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-16+-336791.svg)](https://postgresql.org)
[![Flask](https://img.shields.io/badge/Flask-3.0+-green.svg)](https://flask.palletsprojects.com)

–ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–º–∏ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–º–∏ –∫–∞—Ä—Ç–∞–º–∏ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö, —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏ –∏ –≤—ã—Å–æ–∫–æ–π –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏.

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏](#–æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏)
- [–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏](#—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏)
- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
- [–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å](#–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
- [–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ](#–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ)
- [API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](#api-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)
- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞](#–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è-–ø—Ä–æ–µ–∫—Ç–∞)

##  –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

###  –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- **AES-256 —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ** –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **TDE (Transparent Data Encryption)** –Ω–∞ —É—Ä–æ–≤–Ω–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **–ó–∞—â–∏—Ç–∞ –æ—Ç SQL-injection** –∞—Ç–∞–∫

###  –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **PostgreSQL 16** —Å –ø–æ–ª–Ω–æ–π –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–µ–π –¥–æ **3–ù–§**
- **–†–µ–ø–ª–∏–∫–∞—Ü–∏—è** Master-Slave –¥–ª—è 3 —É–∑–ª–æ–≤
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ backup** —Å —Ä–æ—Ç–∞—Ü–∏–µ–π
- **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã** –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞

###  –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- **RESTful API** –Ω–∞ Flask
- **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞
- **–ü–∞–≥–∏–Ω–∞—Ü–∏—è** –∏ **–ø–æ–∏—Å–∫** –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω** –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤

###  –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ **–ø–∞—Ü–∏–µ–Ω—Ç–∞–º–∏** –∏ **–≤—Ä–∞—á–∞–º–∏**
- –í–µ–¥–µ–Ω–∏–µ **–ø—Ä–∏–µ–º–æ–≤** –∏ **–º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö –∑–∞–ø–∏—Å–µ–π**
- **–ó–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∏–∞–≥–Ω–æ–∑—ã** –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** –∏ **–æ—Ç—á–µ—Ç–Ω–æ—Å—Ç—å**

##  –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –í–µ—Ä—Å–∏—è |
|-----------|------------|--------|
| **Backend** | Python | 3.11+ |
| **Framework** | Flask | 3.0+ |
| **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** | PostgreSQL | 16+ |
| **ORM** | psycopg2 | 2.9+ |
| **–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ** | cryptography | 41+ |
| **Frontend** | HTML5/CSS3/JS | ES2023 |
| **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è** | Docker | 24+ |

##  –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
```bash
git clone https://github.com/your-repo/medical-records-system.git
cd medical-records-system
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
python -m venv venv
venv\Scripts\activate # Windows

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```env
# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
DB_HOST=localhost
DB_PORT=5432
DB_NAME=medical_records
DB_USER=medical_admin
DB_PASSWORD=your_secure_password

# –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
SECRET_KEY=your-super-secret-key-change-in-production
ENCRYPTION_KEY_FILE=.encryption_key

# TDE –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
TDE_ENABLED=True
TDE_MASTER_KEY_FILE=.tde_master_key
TDE_KEY_ROTATION_DAYS=90

# API –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
API_HOST=0.0.0.0
API_PORT=8000
API_DEBUG=True

# –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
LOG_LEVEL=INFO
LOG_FILE=logs/medical_system.log
```

### 4. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∏ —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü
python tests/test_connection.py

# –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ë–î
python src/database/create_table.py

# –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
python src/database/load_test_data.py

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ TDE (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
python src/security/tde.py

# –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã
python run.py
```

### 5. –î–æ—Å—Ç—É–ø –∫ —Å–∏—Å—Ç–µ–º–µ
- **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: http://localhost:8000
- **API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: http://localhost:8000/api
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞**: http://localhost:8000/health

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (3–ù–§)

#### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã:
- **patients** - –ø–∞—Ü–∏–µ–Ω—Ç—ã (—Å –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏)
- **doctors** - –≤—Ä–∞—á–∏ –∏ –∏—Ö —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- **appointments** - –∑–∞–ø–∏—Å–∏ –Ω–∞ –ø—Ä–∏–µ–º—ã
- **medical_records** - –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ –∫–∞—Ä—Ç—ã (–∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∏–∞–≥–Ω–æ–∑—ã)
- **prescriptions** - –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –ª–µ–∫–∞—Ä—Å—Ç–≤

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

#### AES-256 —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ
–ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø–æ–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —à–∏—Ñ—Ä—É—é—Ç—Å—è:
- –¢–µ–ª–µ—Ñ–æ–Ω—ã –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤
- Email –∞–¥—Ä–µ—Å–∞
- –î–æ–º–∞—à–Ω–∏–µ –∞–¥—Ä–µ—Å–∞
- **–î–∏–∞–≥–Ω–æ–∑—ã (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —É—Ä–æ–≤–µ–Ω—å)**
- –ñ–∞–ª–æ–±—ã –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤

#### TDE (Transparent Data Encryption)
```python
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ –∑–∞–ø–∏—Å–∏
patient = {
    'phone': '+7 999 123-45-67',  # –ë—É–¥–µ—Ç –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω AES-256
    'email': 'patient@mail.ru',   # –ë—É–¥–µ—Ç –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω AES-256
    'diagnosis': '–û—Å—Ç—Ä—ã–π –±—Ä–æ–Ω—Ö–∏—Ç' # –ë—É–¥–µ—Ç –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω AES-256
}

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏
decrypted_patient = tde_manager.decrypt_record('patients', patient)
```

### –ó–∞—â–∏—Ç–∞ –æ—Ç SQL-injection
```python
# ‚úÖ –ë–ï–ó–û–ü–ê–°–ù–û - –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
cursor.execute("""
    SELECT * FROM patients 
    WHERE last_name = %s AND first_name = %s
""", (last_name, first_name))

# ‚ùå –ù–ï–ë–ï–ó–û–ü–ê–°–ù–û - (–ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
query = f"SELECT * FROM patients WHERE name = '{user_input}'"
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
```bash
# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –Ω–∞ SQL-injection
python src/security/sql_injection_test.py

# –†–µ–∑—É–ª—å—Ç–∞—Ç: 98% –∑–∞—â–∏—â–µ–Ω–æ –æ—Ç –∞—Ç–∞–∫
```

## üîß –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ

### –†–µ–ø–ª–∏–∫–∞—Ü–∏—è (Master-Slave)

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ 3-—É–∑–ª–æ–≤–æ–π —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏:
```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
python setup_replication.py

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏
python scripts/replication/check_replication.py
```

#### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏:
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Master Node   ‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ   Replica 1     ‚îÇ
‚îÇ  (Read/Write)   ‚îÇ    ‚îÇ (Sync Standby)  ‚îÇ
‚îÇ   Port: 5432    ‚îÇ    ‚îÇ   Port: 5433    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
        ‚îÇ
        ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Replica 2     ‚îÇ
‚îÇ (Async Standby) ‚îÇ
‚îÇ   Port: 5434    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Backup –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ

#### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π backup:
```bash
# –ó–∞–ø—É—Å–∫ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ (–∫–∞–∂–¥—ã–µ 12 —á–∞—Å–æ–≤)
python scripts/auto_backup.py

# –†—É—á–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ backup
python scripts/backup.py

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ backup
python scripts/restore.py backup_file.sql.gz
```

#### Backup —Å—Ç—Ä–∞—Ç–µ–≥–∏—è:
- **–ü–æ–ª–Ω—ã–π backup**: –µ–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 02:00 –∏ 14:00
- **–†–æ—Ç–∞—Ü–∏—è**: —Ö—Ä–∞–Ω–µ–Ω–∏–µ 7 –¥–Ω–µ–π
- **–°–∂–∞—Ç–∏–µ**: gzip –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –º–µ—Å—Ç–∞
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã
curl http://localhost:8000/health

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏
SELECT client_addr, state, sync_state 
FROM pg_stat_replication;

# –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
EXPLAIN ANALYZE SELECT * FROM patients WHERE last_name = '–ò–≤–∞–Ω–æ–≤';
```

## üìö API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –û—Å–Ω–æ–≤–Ω—ã–µ endpoints:

#### –ü–∞—Ü–∏–µ–Ω—Ç—ã
```http
GET    /api/patients              # –°–ø–∏—Å–æ–∫ –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤ (–ø–∞–≥–∏–Ω–∞—Ü–∏—è)
GET    /api/patients/{id}         # –î–∞–Ω–Ω—ã–µ –ø–∞—Ü–∏–µ–Ω—Ç–∞
POST   /api/patients              # –°–æ–∑–¥–∞—Ç—å –ø–∞—Ü–∏–µ–Ω—Ç–∞
GET    /api/search?q=–ò–≤–∞–Ω–æ–≤       # –ü–æ–∏—Å–∫ –ø–æ –§–ò–û
```

#### –ü—Ä–∏–µ–º—ã
```http
GET    /api/appointments                    # –°–ø–∏—Å–æ–∫ –ø—Ä–∏–µ–º–æ–≤
GET    /api/appointments?status=completed   # –§–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å—É
POST   /api/appointments                    # –°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–µ–º
```

#### –ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ –∑–∞–ø–∏—Å–∏
```http
GET    /api/medical-records         # –°–ø–∏—Å–æ–∫ –∑–∞–ø–∏—Å–µ–π
GET    /api/medical-records/{id}    # –ó–∞–ø–∏—Å—å —Å —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–æ–π –¥–∏–∞–≥–Ω–æ–∑–∞
POST   /api/medical-records         # –°–æ–∑–¥–∞—Ç—å –∑–∞–ø–∏—Å—å (–¥–∏–∞–≥–Ω–æ–∑ –∞–≤—Ç–æ—à–∏—Ñ—Ä—É–µ—Ç—Å—è)
```

#### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
```http
GET    /api/statistics              # –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã
```

### –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤:

#### –°–æ–∑–¥–∞–Ω–∏–µ –ø–∞—Ü–∏–µ–Ω—Ç–∞:
```json
POST /api/patients
{
    "first_name": "–ò–≤–∞–Ω",
    "last_name": "–ò–≤–∞–Ω–æ–≤",
    "birth_date": "1990-05-15",
    "gender": "M",
    "phone": "+7 999 123-45-67",
    "email": "ivanov@mail.ru",
    "address": "–≥. –ú–æ—Å–∫–≤–∞, —É–ª. –õ–µ–Ω–∏–Ω–∞, –¥. 1"
}
```

#### –°–æ–∑–¥–∞–Ω–∏–µ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–π –∑–∞–ø–∏—Å–∏:
```json
POST /api/medical-records
{
    "appointment_id": 123,
    "complaints": "–ì–æ–ª–æ–≤–Ω–∞—è –±–æ–ª—å, —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞",
    "examination_results": "–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ 37.2¬∞C, –¥–∞–≤–ª–µ–Ω–∏–µ 120/80",
    "diagnosis": "–û—Å—Ç—Ä—ã–π —Ä–µ—Å–ø–∏—Ä–∞—Ç–æ—Ä–Ω—ã–π —Å–∏–Ω–¥—Ä–æ–º",
    "prescriptions": [
        {
            "medication_name": "–ü–∞—Ä–∞—Ü–µ—Ç–∞–º–æ–ª",
            "dosage": "500–º–≥",
            "frequency": "2 —Ä–∞–∑–∞ –≤ –¥–µ–Ω—å",
            "duration": "5 –¥–Ω–µ–π"
        }
    ]
}
```

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞

### –û—Ç—á–µ—Ç–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
1. **[–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ](–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–µ_–∑–∞–¥–∞–Ω–∏–µ_–ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω–æ–π_–ø—Ä–∞–∫—Ç–∏–∫–∏_2024.docx)** - —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ
2. **[–î–Ω–µ–≤–Ω–∏–∫ –ø—Ä–∞–∫—Ç–∏–∫–∏](–î–Ω–µ–≤–Ω–∏–∫_–ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω–æ–π_–ø—Ä–∞–∫—Ç–∏–∫–∏.docx)** - —Ö–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ä–∞–±–æ—Ç
3. **[–û—Ç—á–µ—Ç –ø–æ –ø—Ä–∞–∫—Ç–∏–∫–µ](–û—Ç—á–µ—Ç_–ø–æ_–ø—Ä–∞–∫—Ç–∏–∫–µ_–ü–æ–¥—ä—è—á–µ–≤_–∏–∑_—à–∞–±–ª–æ–Ω–∞.docx)** - –∏—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á–µ—Ç
4. **[–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞](docs/admin_guide.md)** - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏
5. **[ER-–¥–∏–∞–≥—Ä–∞–º–º–∞](docs/er_diagram.puml)** - —Å—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –î–∏–∞–≥—Ä–∞–º–º—ã –∏ —Å—Ö–µ–º—ã:
- **[–î–∏–∞–≥—Ä–∞–º–º–∞ –ø–æ—Ç–æ–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö](src/docs/data_flow_diagram.puml)**
- **[ER-–¥–∏–∞–≥—Ä–∞–º–º–∞ –≤ PlantUML](docs/er_diagram.puml)**
- **[–°—Ö–µ–º–∞ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏](scripts/replication/)**

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤:
```bash
# –ë–∞–∑–æ–≤—ã–µ —Ç–µ—Å—Ç—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
python tests/test_connection.py

# –¢–µ—Å—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
python src/security/sql_injection_test.py

# –ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
python setup.py  # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
- ‚úÖ **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: PostgreSQL 16 —Å UTF-8
- ‚úÖ **–°—Ç—Ä—É–∫—Ç—É—Ä–∞**: 5 —Ç–∞–±–ª–∏—Ü –≤ 3–ù–§ —Å –∏–Ω–¥–µ–∫—Å–∞–º–∏
- ‚úÖ **–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ**: AES-256 + TDE
- ‚úÖ **–†–µ–ø–ª–∏–∫–∞—Ü–∏—è**: Master + 2 Replica
- ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: 98% –∑–∞—â–∏—Ç–∞ –æ—Ç SQL-injection
- ‚úÖ **API**: 15+ endpoints —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π Apache.

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –≤–æ–ø—Ä–æ—Å–æ–≤ –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é](docs/)
2. –°–æ–∑–¥–∞–π—Ç–µ [Issue](https://github.com/your-repo/issues)
3. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ [—Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤—É –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞](docs/admin_guide.md)

---

## –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –ø—Ä–∞–∫—Ç–∏–∫–∏

### ‚úÖ –ê–Ω–∞–ª–∏–∑ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ (20 —á–∞—Å–æ–≤)
- –°–±–æ—Ä –∏ –∞–Ω–∞–ª–∏–∑ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö/–Ω–µ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π
- –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –¥–∏–∞–≥—Ä–∞–º–º—ã –ø–æ—Ç–æ–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö DFD
- –ú–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –º–µ–¥—É—á—Ä–µ–∂–¥–µ–Ω–∏—è

### ‚úÖ –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤ PostgreSQL (40 —á–∞—Å–æ–≤)
- –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤, –≤—Ä–∞—á–µ–π, –ø—Ä–∏–µ–º–æ–≤, –º–µ–¥–∫–∞—Ä—Ç
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∏–Ω–¥–µ–∫—Å–æ–≤ –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ –§–ò–û –∏ –¥–∞—Ç–µ
- –ü—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –∫ 3-–π –Ω–æ—Ä–º–∞–ª—å–Ω–æ–π —Ñ–æ—Ä–º–µ (3–ù–§)

### ‚úÖ –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ (60 —á–∞—Å–æ–≤)
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Master-Slave —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏ –Ω–∞ 3 —É–∑–ª–∞
- –†–µ–∞–ª–∏–∑–∞—Ü–∏—è backup-—Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ —Å pg_dump –∏ —Å–∂–∞—Ç–∏–µ–º
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ

### ‚úÖ –ó–∞—â–∏—Ç–∞ –¥–∞–Ω–Ω—ã—Ö (40 —á–∞—Å–æ–≤)
- –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—è "–î–∏–∞–≥–Ω–æ–∑" —Å –ø–æ–º–æ—â—å—é AES-256
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ TDE (Transparent Data Encryption)
- –ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ SQL-injection (98% –∑–∞—â–∏—Ç–∞)

### ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (20 —á–∞—Å–æ–≤)
- –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏
- ER-–¥–∏–∞–≥—Ä–∞–º–º–∞ –≤ PlantUML —Ñ–æ—Ä–º–∞—Ç–µ
- –ü–æ–ª–Ω–∞—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**–û–±—â–µ–µ –≤—Ä–µ–º—è**: 180 —á–∞—Å–æ–≤

---

*–°–∏—Å—Ç–µ–º–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–∞ –≤ —Ä–∞–º–∫–∞—Ö –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω–æ–π –ø—Ä–∞–∫—Ç–∏–∫–∏ –ü–ü.03 "–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞, –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∑–∞—â–∏—Ç–∞ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö"*